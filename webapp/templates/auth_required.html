{% extends 'base.html' %}

{% block content %}
<div class="auth-required-container" style="text-align: center; padding: 40px 20px; max-width: 600px; margin: 0 auto;">
    <h1 class="page-heading">Авторизация через Telegram</h1>
    
    <div class="auth-message" style="margin: 30px 0; font-size: 1.1em; line-height: 1.6;">
        <p>Для оформления заказа необходимо авторизоваться через Telegram.</p>
        <p>Это позволит нам связаться с вами по вопросам доставки и сохранить историю ваших заказов.</p>
    </div>
    
    <div class="cart-summary" style="background-color: #f9f9f9; padding: 20px; border-radius: 8px; margin-bottom: 30px;">
        <h3 style="margin-top: 0;">Ваша корзина</h3>
        <p>Товаров в корзине: <strong>{{ cart_item_count }}</strong></p>
        <p>Общая сумма: <strong>{{ cart_total_amount|int }} ₽</strong></p>
    </div>
    
    <div class="auth-button-container" style="margin: 30px 0;">
        <a href="{{ auth_url }}" class="telegram-auth-button" style="display: inline-block; background-color: #0088cc; color: white; padding: 15px 30px; border-radius: 8px; text-decoration: none; font-weight: bold; font-size: 1.2em;">
            <span style="margin-right: 10px;">Авторизоваться через Telegram</span>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align: middle;">
                <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM16.64 8.8C16.49 10.38 15.84 14.22 15.51 15.99C15.37 16.74 15.09 16.99 14.83 17.02C14.25 17.07 13.81 16.64 13.25 16.27C12.37 15.69 11.87 15.33 11.02 14.77C10.03 14.12 10.67 13.76 11.24 13.18C11.39 13.03 13.95 10.7 14 10.49C14.0069 10.4476 14.0069 10.4043 14 10.362C13.9828 10.3208 13.9558 10.2848 13.922 10.257C13.87 10.23 13.8 10.24 13.74 10.25C13.67 10.26 12.14 11.36 9.17 13.53C8.71 13.85 8.29 14.01 7.92 14C7.51 13.99 6.73 13.76 6.14 13.57C5.42 13.34 4.84 13.22 4.89 12.82C4.92 12.62 5.21 12.41 5.74 12.2C8.87 10.84 10.98 9.93 12.07 9.47C15.07 8.15 15.77 7.93 16.21 7.93C16.3 7.93 16.5 7.95 16.63 8.06C16.74 8.15 16.77 8.27 16.78 8.36C16.78 8.43 16.79 8.6 16.64 8.8Z" fill="white"/>
            </svg>
        </a>
    </div>
    
    <div class="auth-info" style="margin-top: 20px; font-size: 0.9em; color: #666;">
        <p>После авторизации вы будете перенаправлены обратно в магазин, и все товары из вашей корзины будут сохранены.</p>
    </div>
    
    <div class="navigation-links" style="margin-top: 40px;">
        <a href="{{ url_for('view_cart') }}" class="back-to-cart-link" style="display: inline-block; margin-right: 20px; color: #666; text-decoration: none;">← Вернуться в корзину</a>
        <a href="{{ url_for('all_products') }}" class="continue-shopping-link" style="display: inline-block; color: #666; text-decoration: none;">Продолжить покупки</a>
    </div>
</div>
{% endblock %}
